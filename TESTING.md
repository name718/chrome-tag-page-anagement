# TabTamer 测试指南

## 🧪 测试环境准备

### 1. 安装插件
1. 确保已构建插件：`npm run build:extension`
2. 在 Chrome 中加载插件（参考 INSTALL.md）
3. 确认插件图标出现在工具栏中

### 2. 准备测试数据
- 打开多个不同域名的网站
- 创建一些包含关键词的标签页（如"预算"、"设计"等）
- 确保有足够的标签页进行分组测试

## 🎯 功能测试清单

### 智能分组功能
- [ ] **域名分组**：相同域名的标签页自动归为一组
- [ ] **关键词分组**：包含关键词的标签页被正确分组
- [ ] **时间分组**：15分钟内打开的标签页归为"临时任务"
- [ ] **分组折叠**：点击分组标题可以折叠/展开
- [ ] **拖拽功能**：标签页可以在分组间拖拽移动

### 休眠功能
- [ ] **自动休眠**：30分钟未激活的标签页自动休眠
- [ ] **手动休眠**：点击休眠按钮可以手动休眠标签页
- [ ] **视觉反馈**：休眠的标签页显示为半透明灰色
- [ ] **唤醒功能**：点击休眠标签页可以唤醒

### 暂存区功能
- [ ] **移入暂存区**：点击暂存区按钮将标签页移入暂存区
- [ ] **暂存区显示**：暂存区可以展开/收起
- [ ] **恢复功能**：点击暂存区中的标签页可以恢复
- [ ] **清空功能**：可以清空整个暂存区

### 快照功能
- [ ] **创建快照**：点击快照按钮创建当前工作区快照
- [ ] **快照列表**：快照显示在列表中
- [ ] **恢复快照**：点击快照可以恢复工作区
- [ ] **删除快照**：可以删除不需要的快照

### 设置功能
- [ ] **访问设置**：右键插件图标可以访问设置页面
- [ ] **分组设置**：可以修改自动分组和关键词设置
- [ ] **休眠设置**：可以调整休眠阈值
- [ ] **性能设置**：可以设置最大标签数等
- [ ] **数据导出**：可以导出所有数据
- [ ] **数据导入**：可以导入之前导出的数据

## 🐛 常见问题测试

### 权限问题
- [ ] 插件请求了正确的权限
- [ ] 用户授予权限后功能正常
- [ ] 权限被拒绝时有适当的错误提示

### 数据持久化
- [ ] 分组数据在浏览器重启后保持
- [ ] 快照数据正确保存
- [ ] 设置数据正确保存

### 性能测试
- [ ] 大量标签页时插件响应正常
- [ ] 内存使用在合理范围内
- [ ] 休眠功能确实节省了内存

### 兼容性测试
- [ ] 在不同版本的 Chrome 中正常工作
- [ ] 与其他插件不冲突
- [ ] 在不同操作系统上正常工作

## 📊 性能基准

### 内存使用
- 基础内存占用：< 50MB
- 100个标签页时：< 100MB
- 休眠后内存节省：30-50%

### 响应时间
- 插件启动：< 2秒
- 分组操作：< 500ms
- 快照创建：< 3秒
- 快照恢复：< 10秒

### 存储使用
- 单个快照：< 5KB
- 1000个快照：< 5MB
- 分组数据：< 1MB

## 🔧 调试技巧

### 查看日志
1. 在 `chrome://extensions/` 中点击插件的"检查视图"
2. 查看 Console 标签页的日志输出
3. 检查 Network 标签页的网络请求

### 查看存储数据
1. 打开开发者工具
2. 在 Console 中执行：
   ```javascript
   chrome.storage.local.get(null, console.log)
   ```

### 模拟测试场景
1. **大量标签页**：打开 50+ 个标签页测试性能
2. **长时间使用**：保持插件运行 24 小时测试稳定性
3. **频繁操作**：快速进行分组、休眠等操作测试响应性

## 📝 测试报告模板

```
测试日期：YYYY-MM-DD
测试版本：v1.0.0
测试环境：Chrome XX.XX.XX

功能测试结果：
- 智能分组：✅/❌
- 休眠功能：✅/❌
- 暂存区：✅/❌
- 快照功能：✅/❌
- 设置页面：✅/❌

性能测试结果：
- 内存使用：XX MB
- 响应时间：XX ms
- 存储使用：XX KB

发现的问题：
1. [问题描述]
2. [问题描述]

建议改进：
1. [改进建议]
2. [改进建议]
```

## 🚨 已知问题

1. **图标文件**：需要手动创建 PNG 图标文件
2. **首次加载**：可能需要刷新页面才能看到分组效果
3. **权限提示**：首次使用时需要用户确认权限

## 📞 问题反馈

如果发现任何问题，请：
1. 查看 Console 日志获取错误信息
2. 记录复现步骤
3. 提交 Issue 到项目仓库
